# https://developer.hashicorp.com/vault/tutorials/kubernetes/kubernetes-minikube-consul

locals { 
  namespace  = "vault" 
}

module "eks_vault_installer_test" {
  source = "../eks/modules/terraform-aws-eks-vault" 
  chart_namespace   = local.namespace
  create_namespace  = true
 
}

# Check Result
#    aws eks --region ap-northeast-2 update-kubeconfig --name eks-cluster-dk 
# 
# Vault Unseal
#    kubectl get pod -n vault
#    kubectl exec -it vault-0 /bin/sh -n vault
#    vault status
#    vault operator init 
#    vault operator unseal 